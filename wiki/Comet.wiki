#summary HTTP in real-time.
#labels Phase-Implementation,Featured

|| XHR || XMLHttpRequest ||
|| XSS || Cross-site scripting ||

_First, try either the [http://rupy.se XHR] *or^1^* [http://tentacle.rupy.se XSS] chat demo, it's the little black box in the bottom right corner!_

If you want to chat between XSS _*and^1^*_ XHR chats make sure you use _*two different browser applications^1^*_ and join the same channel, XSS starts in the _tentacle_ channel and XHR starts in the _lobby_ channel. Either join _tentacle_ with the XHR client (_/join tentacle_) or exit _tentacle_ with the XSS chat (_/exit_).

Type _/list_ for channel listing and _/color `<rrggbb>`_ to change color.

*^1^* The session is reused for one browser type, so you need to use two different browser types (Internet Explorer, Firefox, Chrome and Safari). Also the HTTP spec. only allows clients to connect maximum two sockets per domain; so the long-poll requests will lock the browser if you try to chat between tabs.

----

With XSS long-poll you can add the chat widget to any page, notwithstanding of platform and domain, without serverside modifications. In a few rows of html, some images, one css and js file; you're truly minutes away from having your own industrial strength, real-time, comet chat; accessible from behind the thickest of firewalls.

Try it now: [http://rupy.googlecode.com/files/talk-client-0.5.zip Download]!

----

Comet is all about corporate firewalls, because you want to reach everyone, everywhere, you need to use HTTP on port 80. Now you can push data over HTTP on port 80 in real-time.

Rupy enables you to connect 10000+ concurrent users with one server, this number can scale to 30000+ depending on your application.

We use long-polling for both transports because it's the most robust way to handle gateway timeouts and also the only implementation that works on all browsers without fragmenting the code (implementing different solutions for some browsers).

In web-browser context also known as 'Ajax Push', see [http://en.wikipedia.org/wiki/Comet_%28programming%29 Comet] for more information.

----

Download the [http://rupy.googlecode.com/files/talk-0.6.zip talk] application together with the latest [http://rupy.googlecode.com/files/rupy-0.3.8.zip rupy] and extract them to the same folder. Go to the talk/ folder and start rupy with either the _talk.bat_ or _talk.sh_ script depending on your OS. Then run _ant_ in that same talk/ folder, this should build and deploy the talk.jar application to your rupy server. Lastly, browse to http://localhost:8000/talk.html and chat in real-time over HTTP!

If you want to use rupy talk with apache enable mod_proxy and add something along these lines:
{{{
<VirtualHost *:80>
        ProxyPass /poll http://localhost:8000/poll
        ProxyPass /broadcast http://localhost:8000/broadcast
</VirtualHost>
}}}