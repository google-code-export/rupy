#summary How to integrate with GWT.

*Decode, invoke and encode*

Add the inner class below to GreetingServiceImpl and deploy the war file as a jar to rupy, and everything will just magically work. But you should develop using devmode because the compiler takes 30 sek to compile the HelloWorld demo which is just plain wrong.

I would NEVER use GWT if it wasn't a requirement. Because sending HTML to the browser and innerHTML:ing it is easy to do if you know a little javascript.

{{{
public static class Bridge extends Service {
	public String path() { return "/admin/greet"; }
	public void filter(Event event) throws Event, Exception {
		// Set classloader.
		Thread.currentThread().setContextClassLoader(event.daemon().archive("cabin"));

		// Read.
		ByteArrayOutputStream out = new ByteArrayOutputStream();
		Deploy.pipe(event.input(), out);
		String req = out.toString();

		// Decode, invoke and encode.
		RPCRequest rpc = RPC.decodeRequest(req, GreetingService.class);		  
		String res = RPC.invokeAndEncodeResponse(new GreetingServiceImpl(), rpc.getMethod(), rpc.getParameters());

		event.output().print(res); // Write.
	}
}
}}}